{% macro render_post(post) %}

<li class="post">
  <div class="post-vote">
    <form method="post" action="/upvote/{{ post.id }}">
      <button
        class="vote-button vote-up{% if post.vote.value == 1 %} is-active{% endif %}"
        type="submit"
        aria-label="Upvote"
        {% if post.vote.value != 0 %}disabled{% endif %}
      >
        <svg class="vote-icon" viewBox="0 0 16 16" aria-hidden="true">
          <polyline points="1,11 8,4 15,11"></polyline>
        </svg>
      </button>
    </form>
    <div class="post-score">
      {{ "%02d" % ((post.score * 100) | round(0, "floor") | int) }}
    </div>
    <form method="post" action="/downvote/{{ post.id }}">
      <button
        class="vote-button vote-down{% if post.vote.value == -1 %} is-active{% endif %}"
        type="submit"
        aria-label="Downvote"
        {% if post.vote.value != 0 %}disabled{% endif %}
      >
        <svg class="vote-icon" viewBox="0 0 16 16" aria-hidden="true">
          <polyline points="1,5 8,12 15,5"></polyline>
        </svg>
      </button>
    </form>
  </div>
  <div class="post-body">
	<div class="post-text">
	  <div class="post-title">
		<a href="/read/{{ post.id }}">{{ post.title }}</a>
	  </div>

	  <div class="post-meta">
		<span
		  class="post-author"
		  {% if post.color %}
		  style="background-color:{{ post.color }}; color: {{ post.color | label_text_color }}"
		  {% endif %}
		  ><a href="/feed/{{ post.feed_id }}">{{ post.author }}</a></span>
		{% if post.date %}
		·
		<time
		  datetime="{{ post.date.isoformat() }}"
		  title="{{ post.date.strftime('%Y-%m-%d %H:%M:%S %Z') }}"
		  >
		  {{ post.day }}
		</time>
		{% endif %}
		{% if post.comments %}
		· <a href="{{post.comments}}">Comments</a>
		{% endif %}
		{% if not post.is_read %}
		· <a href="/mark-read/{{ post.id }}">Mark Read</a>
		{% endif %}
	  </div>
	</div>

	{% if post.thumbnail %}
	<img class="post-thumbnail" src="{{ post.thumbnail }}" alt="">
	{% endif %}
  </div>
</li>

{% endmacro %}
